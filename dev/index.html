<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Relationals.jl · Relationals.jl</title><meta name="title" content="Relationals.jl · Relationals.jl"/><meta property="og:title" content="Relationals.jl · Relationals.jl"/><meta property="twitter:title" content="Relationals.jl · Relationals.jl"/><meta name="description" content="Documentation for Relationals.jl."/><meta property="og:description" content="Documentation for Relationals.jl."/><meta property="twitter:description" content="Documentation for Relationals.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Relationals.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Relationals.jl</a><ul class="internal"><li><a class="tocitem" href="#Basic-Usage"><span>Basic Usage</span></a></li><li><a class="tocitem" href="#Advanced-Usage"><span>Advanced Usage</span></a></li><li><a class="tocitem" href="#Queries"><span>Queries</span></a></li><li><a class="tocitem" href="#Response-Formats"><span>Response Formats</span></a></li><li><a class="tocitem" href="#Mutations"><span>Mutations</span></a></li><li><a class="tocitem" href="#Data-sources"><span>Data sources</span></a></li><li><a class="tocitem" href="#Relational-macros"><span>Relational macros</span></a></li><li><a class="tocitem" href="#API-index"><span>API index</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Relationals.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Relationals.jl</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaGraphQL/Relationals.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/master/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Relationals.jl"><a class="docs-heading-anchor" href="#Relationals.jl">Relationals.jl</a><a id="Relationals.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Relationals.jl" title="Permalink"></a></h1><h3 id="Simple,-fast-access-to-relational-data-sources.-Inspired-by-Rails-ActiveRecord."><a class="docs-heading-anchor" href="#Simple,-fast-access-to-relational-data-sources.-Inspired-by-Rails-ActiveRecord.">Simple, fast access to relational data sources. Inspired by Rails ActiveRecord.</a><a id="Simple,-fast-access-to-relational-data-sources.-Inspired-by-Rails-ActiveRecord.-1"></a><a class="docs-heading-anchor-permalink" href="#Simple,-fast-access-to-relational-data-sources.-Inspired-by-Rails-ActiveRecord." title="Permalink"></a></h3><p>Works with MySQL/SQLite/PostgreSQL (any DB APIs listed <a href="https://juliadatabases.org/">here</a>) and CSV files. Supports querying, but does not yet support writing to data sources.</p><h2 id="Basic-Usage"><a class="docs-heading-anchor" href="#Basic-Usage">Basic Usage</a><a id="Basic-Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Usage" title="Permalink"></a></h2><pre><code class="language-julia hljs">using Relationals

struct Flower &lt;: Relational
    sepal_length::Float32
    sepal_width::Float32
    petal_length::Float32
    petal_width::Float32
    species::String
end</code></pre><pre><code class="language-julia hljs"># Gets the first Flower record.
julia&gt; first(Flower)
Flower(5.1f0, 3.5f0, 1.4f0, 0.2f0, &quot;Iris-setosa&quot;)

# Get all Flower records with &quot;sepal_length=5.9&quot; and limit to 2 records.
julia&gt; all(Flower, :sepal_length=&gt;5.9; limit=2)
3-element Vector{Flower}:
 Flower(5.9f0, 3.0f0, 4.2f0, 1.5f0, &quot;Iris-versicolor&quot;)
 Flower(5.9f0, 3.2f0, 4.8f0, 1.8f0, &quot;Iris-versicolor&quot;)</code></pre><h2 id="Advanced-Usage"><a class="docs-heading-anchor" href="#Advanced-Usage">Advanced Usage</a><a id="Advanced-Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Usage" title="Permalink"></a></h2><pre><code class="language-julia hljs">using Relationals, UUIDs

@source &quot;sqlite.db&quot;

struct User &lt;: Relational
    id::Int
    uuid::UUID
    first_name::String
    last_name::String
    address_id::Int
end
@belongs_to User :address

struct Address &lt;: Relational
    id::Int
    street::String
    city::String
    state::String
    zip::String
end
@col Address :zip=&gt;:zipcode

struct Product &lt;: Relational
    key::Int
    name::String
    manufacturer_id::Int
end
@tablename Product :items
@pk Product :key

struct Manufacturer &lt;: Relational
    id::Int
    name::String
    admin_id::Int
end
@belongs_to Manufacturer :admin=&gt;User
@has_many Manufacturer :products</code></pre><pre><code class="language-julia hljs"># Gets the first Manufacturer record.
julia&gt; manufacturer = first(Manufacturer)
Manufacturer(1, &quot;Shire Product Co.&quot;, 1)

julia&gt; user = getadmin(manufacturer)
User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;, 1)

julia&gt; getaddress(user)
Address(1, &quot;1 Bagshot Row&quot;, &quot;Shire&quot;, &quot;Middle Earth&quot;, &quot;37012&quot;)

julia&gt; getproducts(manufacturer)
2-element Vector{User}:
  Product(1, &quot;Frying Pan&quot;)
  Product(2, &quot;Pipeweed&quot;)</code></pre><p>The &quot;sqlite.db&quot; file can be found here:<br/><a href="https://github.com/JuliaGraphQL/Relationals.jl/tree/master/docs">https://github.com/JuliaGraphQL/Relationals.jl/tree/master/docs</a></p><h2 id="Queries"><a class="docs-heading-anchor" href="#Queries">Queries</a><a id="Queries-1"></a><a class="docs-heading-anchor-permalink" href="#Queries" title="Permalink"></a></h2><p>The primary two functions for querying data are: <a href="#Base.first"><code>first</code></a> and <a href="#Base.all"><code>all</code></a>. These functions return a single record and a collection of records, respectively.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.first" href="#Base.first"><code>Base.first</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">first(T::Type{&lt;:Relational}; kwargs...)
first(T::Type{&lt;:Relational}, cond::Int; kwargs...)
first(T::Type{&lt;:Relational}, cond::String; kwargs...)
first(T::Type{&lt;:Relational}, cond::Pair; kwargs...)
first(T::Type{&lt;:Relational}, cond::UUID; kwargs...)
first(T::Type{&lt;:Relational}, conds::Union{Tuple,AbstractArray}; kwargs...)</code></pre><p>Gets the first record of type T.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Gets the first User record.
julia&gt; first(User)
User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)

# Gets the first User record with id=1.
julia&gt; first(User, 1)
User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)

# Gets the first User record where &quot;uuid IS NOT NULL&quot;.
&gt; first(User, &quot;uuid IS NOT NULL&quot;)
User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)

# Gets the first User record where last_name=&quot;Baggins&quot;.
&gt; first(User, :last_name=&gt;&quot;Baggins&quot;)
User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)

# Gets the first User record where first_name=&quot;Bilbo&quot;.
&gt; first(User, :first_name=&gt;:Bilbo)
User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)

# Gets the first User record where uuid=&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;.
&gt; first(User, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;))
User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)

# Gets the first User record where id=1 and uuid=&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;.
&gt; first(User, (:id=&gt;1, :uuid=&gt;UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;)))
User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)

# Gets the first User record where last_name=&quot;Baggins&quot; and uuid is not null.
&gt; first(User, (:last_name=&gt;:Baggins, &quot;uuid IS NOT NULL&quot;))
User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)

# Gets the first User record where last_name=&quot;Baggins&quot; and first_name is &quot;Frodo&quot; or &quot;Bilbo&quot;. 
&gt; first(User, (:last_name=&gt;:Baggins, :first_name=&gt;[&quot;Frodo&quot;, &quot;Bilbo&quot;]))
User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)

# Gets the first User record where first_name=&quot;Frodo&quot; and (id &gt; 1 OR last_name=&quot;Baggins&quot;).
&gt; first(User, (:first_name=&gt;:Frodo, &quot;id &gt; 1 OR last_name=&#39;Baggins&#39;&quot;))
User(2, UUID(&quot;0bb0cdc4-b1d3-43ac-93ad-693a94fc9ceb&quot;), &quot;Frodo&quot;, &quot;Baggins&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/models.jl#L1-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.all" href="#Base.all"><code>Base.all</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">all(T::Type{&lt;:Relational}; kwargs...)
all(T::Type{&lt;:Relational}, cond::String; kwargs...)
all(T::Type{&lt;:Relational}, cond::Pair; kwargs...)
all(T::Type{&lt;:Relational}, conds::Union{Tuple,AbstractArray}; kwargs...)</code></pre><p>Gets a collection of records of type T.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; all(User)
3-element Vector{User}:
 User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;, 1)
 User(2, UUID(&quot;32002bdb-0435-42e4-9c7b-e7dea3162abb&quot;), &quot;Frodo&quot;, &quot;Baggins&quot;, 1)
 User(3, UUID(&quot;fe6fe463-10c0-4bbc-bb39-bbd6f55a9e06&quot;), &quot;Samwise&quot;, &quot;Gamgee&quot;, 2)

julia&gt; all(User, &quot;uuid IS NOT NULL&quot;)
3-element Vector{User}:
 User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;, 1)
 User(2, UUID(&quot;32002bdb-0435-42e4-9c7b-e7dea3162abb&quot;), &quot;Frodo&quot;, &quot;Baggins&quot;, 1)
 User(3, UUID(&quot;fe6fe463-10c0-4bbc-bb39-bbd6f55a9e06&quot;), &quot;Samwise&quot;, &quot;Gamgee&quot;, 2)

julia&gt; all(User, :last_name=&gt;&quot;Baggins&quot;)
2-element Vector{User}:
 User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;, 1)
 User(2, UUID(&quot;32002bdb-0435-42e4-9c7b-e7dea3162abb&quot;), &quot;Frodo&quot;, &quot;Baggins&quot;, 1)

julia&gt; all(User, (&quot;uuid IS NOT NULL&quot;, :last_name=&gt;&quot;Baggins&quot;); limit=2)
2-element Vector{User}:
 User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;, 1)
 User(2, UUID(&quot;32002bdb-0435-42e4-9c7b-e7dea3162abb&quot;), &quot;Frodo&quot;, &quot;Baggins&quot;, 1)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/models.jl#L87-L120">source</a></section></article><h2 id="Response-Formats"><a class="docs-heading-anchor" href="#Response-Formats">Response Formats</a><a id="Response-Formats-1"></a><a class="docs-heading-anchor-permalink" href="#Response-Formats" title="Permalink"></a></h2><p>There are several variants of <a href="#Base.first"><code>first</code></a> and <a href="#Base.all"><code>all</code></a>, depending on the format you want. </p><ul><li><a href="#Relationals.tfirst"><code>tfirst</code></a> returns a NamedTuple (<a href="#Relationals.tall"><code>tall</code></a> returns a vector of NamedTuples)</li><li><a href="#Relationals.dfirst"><code>dfirst</code></a> returns a Dict (<a href="#Relationals.dall"><code>dall</code></a> returns a vector of Dicts)</li><li><a href="#Relationals.ffirst"><code>ffirst</code></a> returns a DataFrame with one record  (<a href="#Relationals.fall"><code>fall</code></a> returns a DataFrame of records)</li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.tfirst" href="#Relationals.tfirst"><code>Relationals.tfirst</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">tfirst(T::Type{&lt;:Relational}; kwargs...)
tfirst(T::Type{&lt;:Relational}, cond::Int; kwargs...)
tfirst(T::Type{&lt;:Relational}, cond::String; kwargs...)
tfirst(T::Type{&lt;:Relational}, cond::Pair; kwargs...)
tfirst(T::Type{&lt;:Relational}, cond::UUID; kwargs...)
tfirst(T::Type{&lt;:Relational}, conds::Union{Tuple,AbstractArray}; kwargs...)</code></pre><p>Identical to <a href="#Base.first"><code>first</code></a>, but returns the record as a NamedTuple.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">julia&gt; tfirst(User)
(id = 1, uuid = UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), first_name = &quot;Bilbo&quot;, last_name = &quot;Baggins&quot;, address_id = 1)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/tuples.jl#L18-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.tall" href="#Relationals.tall"><code>Relationals.tall</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">tall(T::Type{&lt;:Relational}; kwargs...)
tall(T::Type{&lt;:Relational}, cond::String; kwargs...)
tall(T::Type{&lt;:Relational}, cond::Pair; kwargs...)
tall(T::Type{&lt;:Relational}, conds::Union{Tuple,AbstractArray}; kwargs...)</code></pre><p>Identical to <a href="#Base.all"><code>all</code></a>, but returns the records as a vector of NamedTuples.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/tuples.jl#L53-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.dfirst" href="#Relationals.dfirst"><code>Relationals.dfirst</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">dfirst(T::Type{&lt;:Relational}; kwargs...)
dfirst(T::Type{&lt;:Relational}, cond::Int; kwargs...)
dfirst(T::Type{&lt;:Relational}, cond::String; kwargs...)
dfirst(T::Type{&lt;:Relational}, cond::Pair; kwargs...)
dfirst(T::Type{&lt;:Relational}, cond::UUID; kwargs...)
dfirst(T::Type{&lt;:Relational}, conds::Union{Tuple,AbstractArray}; kwargs...)</code></pre><p>Identical to <a href="#Base.first"><code>first</code></a>, but returns the record as a Dict.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">julia&gt; dfirst(User)
Dict{Any, Any} with 5 entries:
  :address_id =&gt; 1
  :id         =&gt; 1
  :uuid       =&gt; UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;)
  :last_name  =&gt; &quot;Baggins&quot;
  :first_name =&gt; &quot;Bilbo&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/dicts.jl#L23-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.dall" href="#Relationals.dall"><code>Relationals.dall</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">dall(T::Type{&lt;:Relational}; kwargs...)
dall(T::Type{&lt;:Relational}, cond::String; kwargs...)
dall(T::Type{&lt;:Relational}, cond::Pair; kwargs...)
dall(T::Type{&lt;:Relational}, conds::Union{Tuple,AbstractArray}; kwargs...)</code></pre><p>Identical to <a href="#Base.all"><code>all</code></a>, but returns the records as a vector of Dicts.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/dicts.jl#L63-L70">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.ffirst" href="#Relationals.ffirst"><code>Relationals.ffirst</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ffirst(T::Type{&lt;:Relational}; kwargs...)
ffirst(T::Type{&lt;:Relational}, cond::Int; kwargs...)
ffirst(T::Type{&lt;:Relational}, cond::String; kwargs...)
ffirst(T::Type{&lt;:Relational}, cond::Pair; kwargs...)
ffirst(T::Type{&lt;:Relational}, cond::UUID; kwargs...)
ffirst(T::Type{&lt;:Relational}, conds::Union{Tuple,AbstractArray}; kwargs...)</code></pre><p>Identical to <a href="#Base.first"><code>first</code></a>, but returns the record in a DataFrame.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">julia&gt; ffirst(User)
1×5 DataFrame
 Row │ id     uuid                               first_name  last_name  address_id 
     │ Int64  String                             String      String     Int64      
─────┼─────────────────────────────────────────────────────────────────────────────
   1 │     1  c6dacd6f-0023-4aba-bf24-374f4042…  Bilbo       Baggins             1</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/frames.jl#L6-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.fall" href="#Relationals.fall"><code>Relationals.fall</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fall(T::Type{&lt;:Relational}; kwargs...)
fall(T::Type{&lt;:Relational}, cond::String; kwargs...)
fall(T::Type{&lt;:Relational}, cond::Pair; kwargs...)
fall(T::Type{&lt;:Relational}, conds::Union{Tuple,AbstractArray}; kwargs...)</code></pre><p>Identical to <a href="#Base.all"><code>all</code></a>, but returns the records in a DataFrame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/frames.jl#L43-L50">source</a></section></article><h2 id="Mutations"><a class="docs-heading-anchor" href="#Mutations">Mutations</a><a id="Mutations-1"></a><a class="docs-heading-anchor-permalink" href="#Mutations" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.create" href="#Relationals.create"><code>Relationals.create</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create(T::Type{&lt;:Relational}; kwargs...)
create(T::Type{&lt;:Relational}, cond::Pair; kwargs...)
create(T::Type{&lt;:Relational}, conds::Union{Tuple,AbstractArray}; kwargs...)</code></pre><p>Gets the first record of type T.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Gets the first User record.
julia&gt; create(Manufacturer, :name=&gt;&quot;Sauron Supplies&quot;)
User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)

# Gets the first User record.
julia&gt; create(Manufacturer, (:name=&gt;&quot;Sauron Supplies&quot;, :admin_id=&gt;1))
User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/create.jl#L1-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.update" href="#Relationals.update"><code>Relationals.update</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">update(T::Type{&lt;:Relational}, key::Union{Int,UUID}, value::Pair; kwargs...)
update(T::Type{&lt;:Relational}, key::Union{Int,UUID}, values::Union{Tuple,AbstractArray}; kwargs...)</code></pre><p>Updates the record matching the unique key (either :id of type Int or :uuid of type UUID) with value(s)</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Gets the first User record.
julia&gt; update(Manufacturer, 1, :name=&gt;&quot;Sauron Supplies&quot;)
User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)

# Gets the first User record.
julia&gt; update(Manufacturer, 1, (:name=&gt;&quot;Sauron Supplies&quot;, :admin_id=&gt;1))
User(1, update(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/mutate.jl#L1-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.destroy" href="#Relationals.destroy"><code>Relationals.destroy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">destroy(T::Type{&lt;:Relational}, key::Union{Int,UUID}; kwargs...)</code></pre><p>Delete the record matching the unique key (either :id of type Int or :uuid of type UUID).</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Gets the first User record.
julia&gt; destroy(Manufacturer, 1)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/destroy.jl#L1-L11">source</a></section></article><h2 id="Data-sources"><a class="docs-heading-anchor" href="#Data-sources">Data sources</a><a id="Data-sources-1"></a><a class="docs-heading-anchor-permalink" href="#Data-sources" title="Permalink"></a></h2><p>Relationals.jl supports MySQL abd SQLite files as data sources. The <a href="#Relationals.@source"><code>@source</code></a> macro configures the data source connection.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.@source" href="#Relationals.@source"><code>Relationals.@source</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@source(fname::String)
@source(c::Expr)
@source(key::QuoteNode, conn::Expr)
@source(key::QuoteNode, fname::String)</code></pre><p><strong>Examples</strong></p><pre><code class="nohighlight hljs"># Configure a MySQL data source as the default.
@source DBInterface.connect(
    MySQL.Connection,
    &quot;127.0.0.1&quot;, 
    &quot;username&quot;, 
    &quot;password&quot;;
    db=&quot;widgets&quot;,
    port=3306,
)

# Configure an SQLite data source only for the Product model.
@source Product &quot;sqlite.db&quot;
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/macros/source.jl#L33-L55">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.tablename" href="#Relationals.tablename"><code>Relationals.tablename</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">tablename(T::Type{&lt;:Relational})</code></pre><p>Returns the table name of type T.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/Relationals.jl#L11-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.getconnection" href="#Relationals.getconnection"><code>Relationals.getconnection</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getconnection(source_key)</code></pre><p>Gets the database connection for &quot;source_key&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/Relationals.jl#L20-L24">source</a></section><section><div><pre><code class="language-julia hljs">getconnection(source_keys::Tuple)</code></pre><p>Gets multiple database connections for &quot;source_keys&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/Relationals.jl#L27-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.conn" href="#Relationals.conn"><code>Relationals.conn</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">conn(T)</code></pre><p>Gets the database connections for type T.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/Relationals.jl#L35-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.count" href="#Base.count"><code>Base.count</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">count(T::Type{&lt;:Relational}; kwargs...)
count(T::Type{&lt;:Relational}, cond::String; kwargs...)
count(T::Type{&lt;:Relational}, cond::Pair; kwargs...)
count(T::Type{&lt;:Relational}, conds::Union{Tuple,AbstractArray}; kwargs...)</code></pre><p>Gets the count of matching records.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/models.jl#L149-L157">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.updatemany" href="#Relationals.updatemany"><code>Relationals.updatemany</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">updatemany(T::Type{&lt;:Relational}, key::Union{Int,UUID}, value::Pair; kwargs...)
updatemany(T::Type{&lt;:Relational}, key::Union{Int,UUID}, values::Union{Tuple,AbstractArray}; kwargs...)</code></pre><p>Updates the record matching the unique key (either :id of type Int or :uuid of type UUID) with value(s)</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Gets the first User record.
julia&gt; update(Manufacturer, 1, :name=&gt;&quot;Sauron Supplies&quot;)
User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)

# Gets the first User record.
julia&gt; update(Manufacturer, 1, (:name=&gt;&quot;Sauron Supplies&quot;, :admin_id=&gt;1))
User(1, update(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/updatemany.jl#L1-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.@showsql" href="#Relationals.@showsql"><code>Relationals.@showsql</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">showsql(relational_type::Symbol, field)</code></pre><p>showsql macro - todo</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/macros/showsql.jl#L1-L5">source</a></section></article><h2 id="Relational-macros"><a class="docs-heading-anchor" href="#Relational-macros">Relational macros</a><a id="Relational-macros-1"></a><a class="docs-heading-anchor-permalink" href="#Relational-macros" title="Permalink"></a></h2><p>The <a href="#Relationals.@has_many"><code>@has_many</code></a> and <a href="#Relationals.@belongs_to"><code>@belongs_to</code></a> configure one-to-many and many-to-one relationships, respectively.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.@has_many" href="#Relationals.@has_many"><code>Relationals.@has_many</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@has_many(model_type::QuoteNode, attr_name::Expr)</code></pre><p>Generates a function named &quot;get{attr_name}&quot; to retrieve a collection of objects that are mapped to the model object. </p><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Configure a &quot;getproducts&quot; function for a Manufacturer object.
@has_many Manufacturer :products

# Configure a &quot;getadmins&quot; function for a Manufacturer object.
@has_many Manufacturer :admins=&gt;User</code></pre><pre><code class="language-julia hljs"># Gets all products of a manufacturer.
julia&gt; getproducts(first(Manufacturer))
2-element Vector{Product}:
  Product(1, &quot;Frying Pan&quot;)
  Product(2, &quot;Pipeweed&quot;)

# Gets all admins of manufacturer.
julia&gt; getadmins(first(Manufacturer))
2-element Vector{User}:
  User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)
  User(2, UUID(&quot;0bb0cdc4-b1d3-43ac-93ad-693a94fc9ceb&quot;), &quot;Frodo&quot;, &quot;Baggins&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/macros/has_many.jl#L2-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.@belongs_to" href="#Relationals.@belongs_to"><code>Relationals.@belongs_to</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@belongs_to(model_type::QuoteNode, attr_name::Expr)</code></pre><p>Generates a function named &quot;get{attr_name}&quot; to retrieve a single object that is mapped to the model object. </p><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Configure a &quot;getaddress&quot; function for a User object.
@belongs_to User :address

# Configure a &quot;getadmin&quot; function for a Manufacturer object.
@belongs_to Manufacturer :admin=&gt;User</code></pre><pre><code class="language-julia hljs"># Gets the address of a user.
julia&gt; getaddress(first(User))
Address(1, &quot;1 Bagshot Row&quot;, &quot;Shire&quot;, &quot;Middle Earth&quot;, &quot;37012&quot;)

# Gets the location of a manufacturer.
julia&gt; getadmin(first(Manufacturer, 1))
User(1, UUID(&quot;c6dacd6f-0023-4aba-bf24-374f4042fc47&quot;), &quot;Bilbo&quot;, &quot;Baggins&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/macros/belongs_to.jl#L2-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.@pk" href="#Relationals.@pk"><code>Relationals.@pk</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">pk(relational_type::Symbol, field)</code></pre><p>pk macro - todo</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/macros/pk.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Relationals.@col" href="#Relationals.@col"><code>Relationals.@col</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">col(relational_type::Symbol, field2col::Expr)</code></pre><p>col macro - todo</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGraphQL/Relationals.jl/blob/10c3b35c8e9daf9437ba6a6f9eaf531ebae41439/src/macros/col.jl#L1-L5">source</a></section></article><h2 id="API-index"><a class="docs-heading-anchor" href="#API-index">API index</a><a id="API-index-1"></a><a class="docs-heading-anchor-permalink" href="#API-index" title="Permalink"></a></h2><ul><li><a href="#Base.all"><code>Base.all</code></a></li><li><a href="#Base.count"><code>Base.count</code></a></li><li><a href="#Base.first"><code>Base.first</code></a></li><li><a href="#Relationals.conn"><code>Relationals.conn</code></a></li><li><a href="#Relationals.create"><code>Relationals.create</code></a></li><li><a href="#Relationals.dall"><code>Relationals.dall</code></a></li><li><a href="#Relationals.destroy"><code>Relationals.destroy</code></a></li><li><a href="#Relationals.dfirst"><code>Relationals.dfirst</code></a></li><li><a href="#Relationals.fall"><code>Relationals.fall</code></a></li><li><a href="#Relationals.ffirst"><code>Relationals.ffirst</code></a></li><li><a href="#Relationals.getconnection"><code>Relationals.getconnection</code></a></li><li><a href="#Relationals.tablename"><code>Relationals.tablename</code></a></li><li><a href="#Relationals.tall"><code>Relationals.tall</code></a></li><li><a href="#Relationals.tfirst"><code>Relationals.tfirst</code></a></li><li><a href="#Relationals.update"><code>Relationals.update</code></a></li><li><a href="#Relationals.updatemany"><code>Relationals.updatemany</code></a></li><li><a href="#Relationals.@belongs_to"><code>Relationals.@belongs_to</code></a></li><li><a href="#Relationals.@col"><code>Relationals.@col</code></a></li><li><a href="#Relationals.@has_many"><code>Relationals.@has_many</code></a></li><li><a href="#Relationals.@pk"><code>Relationals.@pk</code></a></li><li><a href="#Relationals.@showsql"><code>Relationals.@showsql</code></a></li><li><a href="#Relationals.@source"><code>Relationals.@source</code></a></li></ul></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Saturday 10 August 2024 02:28">Saturday 10 August 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
